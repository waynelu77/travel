<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Australia Trip 2025</title>

    <!-- iOS Web App å¿…å‚™ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="æ¾³æ´²2025">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#f7f5ef">

    <!-- iOS åœ–ç¤ºï¼ˆæ­£ç¢ºè·¯å¾‘ï¼‰ -->
    <link rel="apple-touch-icon" href="https://waynelu77.github.io/travel/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://waynelu77.github.io/travel/icons/icon-192.png">  <!-- ç”¨åŒä¸€å¼µæ›¿ä»£ -->
    <link rel="apple-touch-icon" sizes="167x167" href="https://waynelu77.github.io/travel/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://waynelu77.github.io/travel/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://waynelu77.github.io/travel/icons/icon-192.png">

    <!-- PWA Manifest -->
    <link rel="manifest" href="https://waynelu77.github.io/travel/manifest.json">

    <!-- è³‡æº -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        sand: { 50: '#fdfcf8', 100: '#f7f5ef', 200: '#e8e4d8', 800: '#5c5446' },
                        eucalyptus: { light: '#7d9c74', DEFAULT: '#4a6741', dark: '#2e4228' },
                        clay: { DEFAULT: '#c25e00', light: '#e08e45' }
                    },
                    fontFamily: { sans: ['"Inter"', '"Noto Sans TC"', 'sans-serif'] }
                }
            }
        }
    </script>

    <style>
        body { -webkit-tap-highlight-color: transparent; background-color: #f7f5ef; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .tab-content { display: none; animation: fadeIn 0.3s ease-in-out; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .nav-item.active { color: #4a6741; }
        .nav-item.active i { transform: translateY(-2px); }
        .card { background: white; border-radius: 1rem; box-shadow: 0 2px 8px rgba(92,84,70,0.05); border: 1px solid rgba(232,228,216,0.6); }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>

<body class="text-sand-800 font-sans antialiased min-h-screen flex items-center justify-center bg-sand-100">
    
    <!-- Loading ç•«é¢ -->
    <div id="loading" class="text-center z-50">
        <div class="w-16 h-16 border-4 border-eucalyptus border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
        <p class="text-eucalyptus-dark font-medium text-lg">æ­£åœ¨è¼‰å…¥æ¾³æ´²è¡Œç¨‹â€¦</p>
        <p class="text-sm text-stone-500 mt-2">ç¬¬ä¸€æ¬¡æœƒç¨å¾®æ…¢ä¸€é»å–”</p>
    </div>

    <!-- çœŸæ­£å…§å®¹ï¼ˆä¸€é–‹å§‹éš±è—ï¼‰ -->
    <div id="app-content" class="hidden w-full h-full">
        <header class="fixed top-0 w-full bg-sand-50/90 backdrop-blur-md z-40 border-b border-sand-200 shadow-sm">
            <div class="max-w-md mx-auto px-5 py-4 flex justify-between items-center">  <!-- æ”¹æˆ max-w-md -->
                <div>
                    <h1 class="text-xl font-bold text-eucalyptus tracking-wide">Australia 2025</h1>
                    <p class="text-xs text-stone-500 font-light" id="current-date">Loading...</p>
                </div>
                <div class="w-8 h-8 rounded-full bg-eucalyptus text-white flex items-center justify-center text-xs font-bold shadow-md">AU</div>
            </div>
        </header>

        <main id="app" class="max-w-md mx-auto px-4 pt-20 mt-2 min-h-screen"></main>

        <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-sand-200 z-50 pb-safe shadow-[0_-5px_15px_rgba(0,0,0,0.02)]">
            <div class="max-w-md mx-auto flex justify-around items-center h-16 px-2">
                <button onclick="switchTab('plan')" class="nav-item active flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-map-location-dot text-lg mb-1"></i><span class="text-[10px] font-medium">è¡Œç¨‹</span></button>
                <button onclick="switchTab('hotels')" class="nav-item flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-bed text-lg mb-1"></i><span class="text-[10px] font-medium">ä½å®¿</span></button>
                <button onclick="switchTab('guide')" class="nav-item flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-book-open text-lg mb-1"></i><span class="text-[10px] font-medium">å°è¦½</span></button>
                <button onclick="switchTab('wallet')" class="nav-item flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-wallet text-lg mb-1"></i><span class="text-[10px] font-medium">éŒ¢åŒ…</span></button>
                <button onclick="switchTab('lists')" class="nav-item flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-list-check text-lg mb-1"></i><span class="text-[10px] font-medium">æ¸…å–®</span></button>
                <button onclick="switchTab('info')" class="nav-item flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-eucalyptus transition-all"><i class="fa-solid fa-circle-info text-lg mb-1"></i><span class="text-[10px] font-medium">è³‡è¨Š</span></button>
            </div>
        </nav>
    </div>

    <script>
        // ==================== å…¨éƒ¨è³‡æ–™èˆ‡å‡½æ•¸ ====================
        const tripData = {
            itinerary: [
                { day: "Day 1", date: "12/7ï¼ˆæ—¥ï¼‰", city: "é›ªæ¢¨", title: "æŠµé”èˆ‡æ¸¯ç£åˆæ¢", icon: "âœˆï¸", events: [{ time: "12:10", title: "èˆªç­æŠµé” (CI51)", desc: "é ç•™ 1.5å°æ™‚å‡ºé—œã€‚æ©Ÿå ´æ¥é€å‰å¾€å¸‚å€", type: "transport" }, { time: "14:30", title: "å…¥ä½ Meriton Suites Kent Street", desc: "æˆ¿å…§é™„æœ‰å®Œæ•´å»šå…·ã€æ´—è¡£æ©Ÿã€çƒ˜è¡£æ©Ÿ", type: "checkin", mapQuery: "Meriton Suites Kent Street Sydney" }, { time: "15:30", title: "å²©çŸ³å€ & æ¸¯ç£å¤§æ©‹", desc: "æ­¥è¡Œç´„15åˆ†ã€‚éµåµçŸ³è·¯é¢ï¼Œæ³¨æ„é•·è¼©è¡Œèµ°", type: "walk", mapQuery: "The Rocks Sydney" }, { time: "18:00", title: "æ™šé¤ï¼šThe Lord Nelson", desc: "é›ªæ¢¨æœ€å¤è€é…’å§ä¹‹ä¸€", type: "food", highlight: true, mapQuery: "The Lord Nelson Brewery Hotel" }, { time: "20:00", title: "é›ªæ¢¨å¤©æ–‡å°å¤œæ™¯", desc: "æ¬£è³æ¸¯ç£å¤œæ™¯", type: "sight", mapQuery: "Sydney Observatory" }] },
                { day: "Day 2", date: "12/8ï¼ˆä¸€ï¼‰", city: "é›ªæ¢¨", title: "å‹•ç‰©åœ’èˆ‡æ–‡åŒ–å·¡ç¦®", icon: "ğŸ¦", events: [{ time: "09:00", title: "å¡”é¾åŠ å‹•ç‰©åœ’", desc: "è‡³ Darling Harbour æ­ä¹˜æ¸¡è¼ªå‰å¾€", type: "sight", mapQuery: "Darling Harbour, Convention Jetty" }, { time: "12:30", title: "åˆé¤ï¼šè‡ªå‚™é‡é¤", desc: "åœ’å…§é¸æ“‡å°‘ï¼Œå»ºè­°è‡ªå‚™è¼•é£Ÿ", type: "food" }, { time: "14:00", title: "é›ªæ¢¨æ­ŒåŠ‡é™¢å°è¦½", desc: "1å°æ™‚ä¸­æ–‡å°è¦½ï¼Œéœ€æå‰15åˆ†å ±åˆ°", type: "sight", highlight: true, mapQuery: "Sydney Opera House" }, { time: "15:30", title: "çš‡å®¶æ¤ç‰©åœ’æ•£æ­¥", desc: "Mrs Macquarieâ€™s Chair æ‹ç…§", type: "walk", mapQuery: "Mrs Macquarie's Chair" }, { time: "18:00", title: "æ™šé¤ï¼šThe Grounds", desc: "å¸‚ä¸­å¿ƒç¶²ç¾é¤å»³ï¼Œå·²è¨‚ä½", type: "food", highlight: true, mapQuery: "The Grounds of the City" }, { time: "20:00", title: "Black Star Pastry", desc: "å¿…åƒè¥¿ç“œè›‹ç³•", type: "food", mapQuery: "Black Star Pastry Sydney" }] },
                { day: "Day 3", date: "12/9ï¼ˆäºŒï¼‰", city: "è—å±±", title: "åœ‹å®¶å…¬åœ’ä¸€æ—¥éŠ", icon: "ğŸŒ²", events: [{ time: "09:00", title: "Sixt å–è»Šå‡ºç™¼", desc: "Cityåº—å–è»Šï¼Œè»Šç¨‹ç´„ 1.5-2 å°æ™‚", type: "transport", mapQuery: "Sixt Car Rental Sydney City" }, { time: "12:00", title: "è˜¿æ‹‰å°é® (Leura)", desc: "åˆé¤æ¨è–¦ Pho Moi", type: "walk", mapQuery: "Pho Moi" }, { time: "14:00", title: "è—å±±æ™¯è§€ä¸–ç•Œ", desc: "çºœè»Šã€è§€æ™¯å°ã€å¤©ç©ºæ­¥é“ã€‚é©åˆé•·è¼©", type: "sight", mapQuery: "Scenic World Blue Mountains" }, { time: "16:30", title: "ä¸‰å§å¦¹å²©è§€æ™¯å°", desc: "Echo Point è§€æ™¯å°", type: "sight", mapQuery: "Three Sisters walk" }, { time: "18:30", title: "æ™šé¤ï¼šKatoomba", desc: "é®ä¸Šç”¨é¤å¾Œå›é›ªæ¢¨", type: "food", mapQuery: "Katoomba Town Centre" }, { time: "22:00", title: "è¿”å›é£¯åº— / é‚„è»Š", desc: "", type: "Sixt Car Rental Sydney City" }] },
                { day: "Day 4", date: "12/10ï¼ˆä¸‰ï¼‰", city: "å¢¨çˆ¾æœ¬", title: "é£›è¡Œèˆ‡ä¼éµç›¸é‡", icon: "ğŸ§", events: [{ time: "10:50", title: "é£›å¾€å¢¨çˆ¾æœ¬ (JQ513)", desc: "12:25 æŠµé” MEL", type: "Sydney Airport" }, { time: "13:30", title: "æ©Ÿå ´å–è»Šå‡ºç™¼", desc: "East Coast Car Rentalsã€‚å‰å¾€è²åˆ©æ™®å³¶", type: "San Remo Fishermans Co-Op" }, { time: "16:00", title: "å…¥ä½ Ramada Resort", desc: "é€”ç¶“ San Remo åƒç‚¸é­šè–¯æ¢", type: "checkin", mapQuery: "Ramada Resort by Wyndham Phillip Island" }, { time: "18:30", title: "ä¼éµæ­¸å·¢", desc: "æ—¥è½å¾Œé–‹å§‹ï¼Œæ³¨æ„ä¿æš–", type: "sight", highlight: true, mapQuery: "Penguin Parade" }] },
                { day: "Day 5", date: "12/11ï¼ˆå››ï¼‰", city: "å¤§æ´‹è·¯", title: "å£¯é—Šæµ·å²¸ç·šä¹‹æ—…", icon: "ğŸŒŠ", events: [{ time: "09:00", title: "Nobbies Centre", desc: "æµ·å²¸æ­¥é“ï¼Œçœ‹æµ·è±¹å³¶", type: "sight", mapQuery: "The Nobbies" }, { time: "12:00", title: "Torquay åˆé¤", desc: "å¤§æ´‹è·¯èµ·é»æ¨™èªŒæ‹ç…§", type: "food", mapQuery: "Great Ocean Road Memorial Arch" }, { time: "15:00", title: "Lorne å°é®", desc: "Teddy's Lookout è§€æ™¯", type: "sight", mapQuery: "Teddy's Lookout" }, { time: "18:00", title: "å…¥ä½ Coastal Motel", desc: "Apollo Bay", type: "checkin", mapQuery: "Coastal Motel Apollo Bay" }, { time: "19:30", title: "æ™šé¤ï¼šCasalingo", desc: "ç¾©å¤§åˆ©å®¶åº­é¤é¤¨", type: "food", mapQuery: "Casalingo Apollo Bay" }] },
                { day: "Day 6", date: "12/12ï¼ˆäº”ï¼‰", city: "å¤§æ´‹è·¯", title: "åäºŒé–€å¾’å²©ç²¾è¯æ®µ", icon: "ğŸ—¿", events: [{ time: "09:00", title: "å¤§æ´‹è·¯ç²¾è¯", desc: "Gibson Steps, åäºŒé–€å¾’å²©", type: "sight", mapQuery: "Twelve Apostles" }, { time: "12:30", title: "Port Campbell åˆé¤", desc: "é®å…§å°é¤é¤¨", type: "food", mapQuery: "Port Campbell" }, { time: "15:00", title: "æ´›å…‹é˜¿å¾·å³½è°·", desc: "æ­¥é“å¹³ç·©ä½†é¢¨å¤§", type: "sight", mapQuery: "Loch Ard Gorge" }, { time: "17:00", title: "å…¥ä½ Southern Ocean", desc: "å®¶åº­å‹å–„åˆ¥å¢…", type: "checkin", mapQuery: "Southern Ocean Villas" }, { time: "19:00", title: "æ™šé¤ï¼š12 Rocks CafÃ©", desc: "é®å…§è¼•é¬†æ­¥è¡Œåˆ°é”", type: "food", mapQuery: "12 Rocks Beach Bar Cafe" }] },
                { day: "Day 7", date: "12/13ï¼ˆå…­ï¼‰", city: "å¢¨çˆ¾æœ¬", title: "æ½®æµèˆ‡ç¾é£Ÿçš„å‹åœ°", icon: "ğŸ ", events: [{ time: "09:00", title: "è¿”å›å¢¨çˆ¾æœ¬", desc: "èµ°å…§é™¸é«˜é€Ÿå…¬è·¯ï¼Œç´„ 3.5 å°æ™‚", type: "Meriton Suites Melbourne" }, { time: "13:00", title: "Meriton Suites Melbourne", desc: "å…¥ä½/æ”¾è¡Œæ", type: "checkin", mapQuery: "Meriton Suites Melbourne" }, { time: "14:30", title: "å¸æ©Ÿé‚„è»Š / å®¶äººæ°´æ—é¤¨", desc: "æ°´æ—é¤¨é©åˆå°å­©", type: "mixed", mapQuery: "SEA LIFE Melbourne Aquarium" }, { time: "18:00", title: "æ™šé¤ï¼šå¸‚å€æ¢ç´¢", desc: "è¼•é¬†é¸æ“‡", type: "food" }] },
                { day: "Day 8", date: "12/14ï¼ˆæ—¥ï¼‰", city: "å¢¨çˆ¾æœ¬", title: "é«”é©—ç•¶åœ°ç”Ÿæ´»", icon: "ğŸŒ¿", events: [{ time: "09:00", title: "çš‡å®¶æ¤ç‰©åœ’", desc: "æ‚ é–’æ•£æ­¥", type: "walk", mapQuery: "Royal Botanic Gardens Melbourne" }, { time: "12:30", title: "å—å¢¨çˆ¾æœ¬å¸‚å ´", desc: "è³¼è²· Myki å¡ï¼Œåƒç”Ÿè ”", type: "food", mapQuery: "South Melbourne Market" }, { time: "14:30", title: "è–ç§‘é” (St Kilda)", desc: "æ­é›»è»Šå»æµ·é‚Šï¼ŒAcland St åƒè›‹ç³•", type: "sight", mapQuery: "St Kilda Beach" }] },
                { day: "Day 9", date: "12/15ï¼ˆä¸€ï¼‰", city: "å¢¨çˆ¾æœ¬", title: "èŠ±åœ’èˆ‡ç”Ÿæ—¥æ™šé¤", icon: "ğŸ‚", events: [{ time: "09:00", title: "å¢¨çˆ¾æœ¬å‹•ç‰©åœ’", desc: "ä¸»è¦çš„æˆ¶å¤–è¦ªå­æ™¯é»", type: "sight", mapQuery: "Melbourne Zoo" }, { time: "11:30", title: "ç¶­å¤šåˆ©äºå¥³ç‹å¸‚å ´", desc: "ç•¶åœ°æœ€å¤§å¸‚å ´åˆé¤", type: "food", mapQuery: "Queen Victoria Market" }, { time: "15:00", title: "å·ç«‹åœ–æ›¸é¤¨", desc: "La Trobe é–±è¦½å®¤ï¼Œæœ‰å…’ç«¥å€", type: "sight", mapQuery: "State Library Victoria" }, { time: "18:00", title: "åª½åª½ç”Ÿæ—¥æ™šé¤", desc: "Nomad Melbourne (Flinders Lane)", type: "food", highlight: true, mapQuery: "Nomad Melbourne" }] },
                { day: "Day 10", date: "12/16ï¼ˆäºŒï¼‰", city: "å¢¨çˆ¾æœ¬", title: "æ…¶å…¸èˆ‡æ­¸é€”", icon: "âœˆï¸", events: [{ time: "10:00", title: "é£¯åº—é€€æˆ¿", desc: "å¯„æ”¾è¡Œæã€‚", type: "checkin" }, { time: "10:30", title: "å¢¨çˆ¾æœ¬åšç‰©é¤¨", desc: "å…’ç«¥å±•è¦½é¤¨", type: "sight", mapQuery: "Melbourne Museum" }, { time: "14:30", title: "å¡çˆ¾é “èŠ±åœ’/åœ–æ›¸é¤¨", desc: "æ¬£è³ çš‡å®¶å±•è¦½é¤¨ å»ºç¯‰", type: "walk" }, { time: "18:00", title: "è¯é‚¦å»£å ´è–èª•å¸‚é›†", desc: "æ„Ÿå—è–èª•æ°£æ°›", type: "sight", mapQuery: "Federation Square" }, { time: "21:00", title: "å‰å¾€æ©Ÿå ´", desc: "æ­ CI58 (00:25èµ·é£›)", type: "transport" }] }
            ],
            hotels: [
                { city: "Sydney", dates: "12/7 - 12/10 (3æ™š)", name: "Meriton Suites Kent Street", code: "CI5M27YO", room: "2 Bedroom Suite", address: "528 Kent St, Sydney NSW 2000" },
                { city: "Phillip Island", dates: "12/10 - 12/11 (1æ™š)", name: "Ramada Resort by Wyndham", code: "1613142513", room: "3-Bedroom Villa", address: "2128 Phillip Island Rd, Cowes VIC 3922" },
                { city: "Apollo Bay", dates: "12/11 - 12/12 (1æ™š)", name: "Coastal Motel", code: "5424600860", room: "Deluxe Family Room", address: "173 Great Ocean Rd, Apollo Bay VIC 3233" },
                { city: "Port Campbell", dates: "12/12 - 12/13 (1æ™š)", name: "Southern Ocean Villas", code: "BB25053018409796", room: "Deluxe 3-BR Villa", address: "2 McCue St, Port Campbell VIC 3269" },
                { city: "Melbourne", dates: "12/13 - 12/16 (3æ™š)", name: "Meriton Suites Melbourne", code: "CI5M2ELJ", room: "2 Bedroom Suite", address: "140 King St, Melbourne VIC 3000" }
            ],
            guide: [
                { title: "é›ªæ¢¨æ­ŒåŠ‡é™¢çš„å°ç§˜å¯†", content: "é›ªæ¢¨æ­ŒåŠ‡é™¢çš„å±‹é ‚ä¸¦ä¸æ˜¯å–®ç´”çš„ç™½è‰²ï¼Œè€Œæ˜¯ç”±å…©ç¨®é¡è‰²çš„ç£ç£šçµ„æˆï¼šäº®ç™½è‰²å’Œå¥¶æ²¹è‰²ã€‚é€™æ˜¯ä¸€ç¨®è‡ªæ½”ç£ç£šï¼Œç†è«–ä¸Šé é›¨æ°´å°±èƒ½æ¸…æ´—ä¹¾æ·¨ï¼è¨­è¨ˆå¸« JÃ¸rn Utzon ç•¶åˆçš„éˆæ„Ÿä¾†è‡ªæ–¼å‰é–‹çš„æ©˜å­ç“£ã€‚", map: "Sydney Opera House" },
                { title: "è—å±±ç‚ºä»€éº¼æ˜¯è—çš„ï¼Ÿ", content: "è—å±±åç¨±çš„ç”±ä¾†æ˜¯å› ç‚ºé€™è£¡å»£å¤§çš„å°¤åŠ åˆ©æ¨¹æ—ã€‚å°¤åŠ åˆ©æ¨¹æœƒæ®ç™¼æ²¹æ»´ï¼Œé€™äº›æ²¹æ»´åœ¨é™½å…‰æŠ˜å°„ä¸‹ï¼Œæœƒç”¢ç”Ÿè—è‰²çš„éœ§æ°£ï¼Œè®“æ•´å€‹å±±è„ˆç± ç½©åœ¨å¤¢å¹»çš„è—è‰²ä¹‹ä¸­ã€‚", map: "Blue Mountains" },
                { title: "ä¼éµæ­¸å·¢æ³¨æ„äº‹é …", content: "è²åˆ©æ™®å³¶çš„å°ä¼éµæ˜¯ä¸–ç•Œä¸Šæœ€å°çš„ä¼éµå“ç¨®ã€‚è§€è³æ™‚åš´ç¦æ‹ç…§ï¼ˆç„¡è«–æ˜¯å¦é–‹é–ƒå…‰ç‡ˆï¼‰ï¼Œå› ç‚ºä¼éµçš„çœ¼ç›éå¸¸æ•æ„Ÿï¼Œé–ƒå…‰æˆ–æ‰‹æ©Ÿè¢å¹•äº®å…‰æœƒè®“ç‰ å€‘å—é©šåš‡ç”šè‡³å˜”åï¼Œå½±éŸ¿æ­¸å·¢å“ºè‚²å¹¼é³¥ã€‚", map: "Phillip Island" },
                { title: "åäºŒé–€å¾’å²© 12 Apostles", content: "é€™äº›çŸ—ç«‹åœ¨å—å¤§æ´‹ä¸­çš„çŸ³ç°å²©æŸ±ï¼Œå…¶å¯¦å¾æœªæœ‰éã€Œ12ã€å€‹ã€‚ç›®å‰åƒ…å­˜ 7 å€‹ï¼ˆåŸæœ¬æœ‰ 9 å€‹ï¼‰ï¼Œé€™æ˜¯ä¸€å€‹æ­£åœ¨ã€Œæ¶ˆå¤±ä¸­ã€çš„æ™¯é»ã€‚æµ·æµªæ¯å¹´ä¾µè•å²©å£ç´„ 2 å…¬åˆ†ã€‚", map: "12 Apostles" }
            ]
        };

        const $ = s => document.querySelector(s);
        const $$ = s => document.querySelectorAll(s);

        function updateDate() {
            const now = new Date();
            const options = { month: 'long', day: 'numeric', weekday: 'short', hour: '2-digit', minute: '2-digit' };
            $('#current-date').innerText = now.toLocaleDateString('zh-TW', options);
        }
        setInterval(updateDate, 60000);
        updateDate();

        function switchTab(tabName) {
            $$('.nav-item').forEach(el => el.classList.remove('active'));
            const btn = Array.from($$('.nav-item')).find(el => el.getAttribute('onclick')?.includes(tabName));
            if (btn) btn.classList.add('active');

            const app = $('#app');
            app.innerHTML = '';
            const container = document.createElement('div');
            container.className = 'tab-content active pb-10';
            app.appendChild(container);

            switch(tabName) {
                case 'plan': renderPlan(container); break;
                case 'hotels': renderHotels(container); break;
                case 'guide': renderGuide(container); break;
                case 'wallet': renderWallet(container); break;
                case 'lists': renderLists(container); break;
                case 'info': renderInfo(container); break;
            }
            window.scrollTo(0, 0);
        }

        function openMap(query) {
            window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
        }

        function renderPlan(container) {
            let html = `<div class="space-y-6">`;
            tripData.itinerary.forEach(day => {
                html += `
                    <div class="relative pl-4 border-l-2 border-sand-200">
                        <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-eucalyptus border-2 border-sand-50"></div>
                        <div class="mb-4">
                            <h2 class="text-xl font-bold text-eucalyptus-dark">${day.day} <span class="text-sm font-normal text-stone-500 ml-2">${day.date}</span></h2>
                            <div class="flex items-center text-clay font-medium mt-1"><span class="mr-2">${day.icon}</span> ${day.city} - ${day.title}</div>
                        </div>
                        <div class="space-y-3">
                `;
                day.events.forEach(ev => {
                    const highlightClass = ev.highlight ? 'border-clay border-l-4 bg-orange-50/50' : '';
                    const highlightText = ev.highlight ? 'text-clay font-semibold' : 'text-stone-800 font-semibold';
                    html += `
                        <div class="card p-4 ${highlightClass} flex flex-col gap-2">
                            <div class="flex justify-between items-start">
                                <div class="flex gap-3">
                                    <span class="text-sm font-mono text-stone-400 min-w-[45px]">${ev.time}</span>
                                    <div>
                                        <h3 class="${highlightText} text-base leading-tight">${ev.title}</h3>
                                        <p class="text-sm text-stone-600 mt-1 leading-relaxed">${ev.desc}</p>
                                    </div>
                                </div>
                            </div>
                            ${ev.mapQuery ? `<div class="flex justify-end mt-1"><button onclick="openMap('${ev.mapQuery}')" class="text-xs flex items-center gap-1 text-eucalyptus hover:text-eucalyptus-dark px-2 py-1 rounded bg-sand-100"><i class="fa-solid fa-location-arrow"></i> å°èˆª</button></div>` : ''}
                        </div>`;
                });
                html += `</div></div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        function renderHotels(container) {
            let html = `<div class="grid gap-4">`;
            tripData.hotels.forEach(h => {
                html += `
                    <div class="card p-5 overflow-hidden relative">
                        <div class="absolute top-0 right-0 bg-eucalyptus text-white text-[10px] px-2 py-1 rounded-bl-lg font-bold">${h.city}</div>
                        <h3 class="text-lg font-bold text-stone-800 mb-1 pr-10">${h.name}</h3>
                        <p class="text-xs text-stone-500 mb-3"><i class="fa-regular fa-calendar mr-1"></i> ${h.dates}</p>
                        <div class="bg-sand-50 rounded-lg p-3 mb-3 border border-sand-100">
                            <div class="flex justify-between items-center mb-1"><span class="text-xs text-stone-400">è¨‚æˆ¿ä»£è™Ÿ</span><span class="text-sm font-mono font-bold text-eucalyptus-dark select-all">${h.code}</span></div>
                            <div class="flex justify-between items-center"><span class="text-xs text-stone-400">æˆ¿å‹</span><span class="text-xs font-medium text-stone-700 text-right">${h.room}</span></div>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="openMap('${h.address}')" class="flex-1 bg-eucalyptus text-white py-2 rounded-lg text-sm font-medium shadow hover:bg-eucalyptus-dark transition"><i class="fa-solid fa-map-pin mr-1"></i> åœ°åœ–</button>
                            <button onclick="window.open('https://www.youtube.com/results?search_query=${encodeURIComponent(h.name + ' vlog')}', '_blank')" class="flex-1 bg-white border border-stone-200 text-stone-600 py-2 rounded-lg text-sm font-medium hover:bg-stone-50 transition"><i class="fa-brands fa-youtube mr-1 text-red-500"></i> Vlog</button>
                        </div>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        function renderGuide(container) {
            let html = `<div class="space-y-6">`;
            tripData.guide.forEach(g => {
                html += `
                    <div class="card p-0 overflow-hidden">
                        <div class="p-5 bg-sand-50 border-b border-sand-100">
                            <h3 class="font-serif text-xl text-eucalyptus-dark font-bold mb-2">${g.title}</h3>
                            <p class="text-stone-600 leading-7 text-justify text-sm">${g.content}</p>
                        </div>
                        <div class="h-48 w-full bg-stone-100 relative">
                            <iframe width="100%" height="100%" frameborder="0" scrolling="no" src="https://www.openstreetmap.org/export/embed.html?bbox=109,-45,159,-6&layer=mapnik&marker=-37.8,145"></iframe>
                            <div class="absolute inset-0 flex items-center justify-center bg-black/5">
                                <button onclick="openMap('${g.map}')" class="bg-white/90 backdrop-blur text-stone-800 px-4 py-2 rounded-full shadow-lg text-sm font-medium">
                                    <i class="fa-solid fa-map mr-2 text-clay"></i>é–‹å•Ÿè©³ç´°åœ°åœ–
                                </button>
                            </div>
                        </div>
                    </div>`;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        function renderWallet(container) {
            const savedRate = localStorage.getItem('aud_rate') || '21.5';
            
            container.innerHTML = `
                <div class="space-y-6">
                    <div class="card p-5 bg-gradient-to-br from-eucalyptus to-eucalyptus-dark text-white shadow-lg">
                        <h3 class="text-xs font-medium opacity-80 mb-2">åŒ¯ç‡æ›ç®—æ©Ÿ (AUD -> TWD)</h3>
                        <div class="flex items-end gap-2 mb-4">
                            <span class="text-2xl font-bold">AUD</span>
                            <input type="text" id="calc-input" placeholder="ä¾‹å¦‚: 50+20*3" class="flex-1 bg-white/20 border-none rounded text-white placeholder-white/50 px-2 py-1 outline-none text-lg font-mono text-right" inputmode="decimal">
                        </div>
                        <div class="flex justify-between items-center border-t border-white/20 pt-3">
                            <div class="flex items-center gap-2">
                                <span class="text-xs">åŒ¯ç‡:</span>
                                <input type="number" id="rate-input" value="${savedRate}" class="w-16 bg-white/10 rounded px-1 text-center text-sm font-bold text-white border-none" onchange="updateRate(this.value)">
                            </div>
                            <div class="text-right">
                                <div class="text-xs opacity-70">ç´„å°å¹£</div>
                                <div class="text-2xl font-bold" id="calc-result">0</div>
                            </div>
                        </div>
                        <button onclick="calculateWallet()" class="w-full mt-3 bg-white text-eucalyptus font-bold py-2 rounded shadow hover:bg-stone-100 active:bg-stone-200 transition">è¨ˆç®—</button>
                    </div>

                    <div class="card p-4">
                        <h3 class="font-bold text-stone-700 mb-3">æ–°å¢è¨˜å¸³</h3>
                        <div class="grid grid-cols-3 gap-2 mb-2">
                            <input type="text" id="exp-item" placeholder="å“é …" class="col-span-2 border border-stone-300 rounded px-3 py-2 text-sm bg-stone-50">
                            <input type="number" id="exp-amount" placeholder="AUD" class="col-span-1 border border-stone-300 rounded px-3 py-2 text-sm bg-stone-50" inputmode="decimal">
                        </div>
                        <div class="flex items-center gap-2 mb-3">
                            <label class="flex-1 flex items-center justify-center gap-2 bg-stone-100 text-stone-600 py-2 rounded cursor-pointer hover:bg-stone-200 transition text-sm select-none">
                                <i class="fa-solid fa-camera"></i> 
                                <span id="file-label">æ‹ç…§/ä¸Šå‚³</span>
                                <input type="file" id="exp-photo" accept="image/*" class="hidden" onchange="handlePhotoSelect(this)">
                            </label>
                            <button onclick="addExpense()" class="flex-1 bg-clay text-white py-2 rounded font-medium shadow hover:bg-clay-light text-sm active:bg-clay transition">å„²å­˜</button>
                        </div>
                    </div>

                    <div id="expense-list" class="space-y-3 pb-10">
                        </div>
                </div>
            `;
            setTimeout(renderExpenseList, 0); 
        }

        let tempPhotoBase64 = null;

        function updateRate(val) {
            if(!val) return;
            localStorage.setItem('aud_rate', val);
            calculateWallet();
            renderExpenseList();
        }

        function calculateWallet() {
            const inputEl = $('#calc-input');
            const rateEl = $('#rate-input');
            const resultEl = $('#calc-result');
            
            if(!inputEl || !rateEl || !resultEl) return;

            const input = inputEl.value;
            const rate = parseFloat(rateEl.value) || 21.5;
            
            try {
                if (!input.trim()) { resultEl.innerText = '0'; return; }
                if (!/^[0-9+\-*/().\s]+$/.test(input)) {
                    throw new Error("Invalid characters");
                }
                const audTotal = new Function('return ' + input)();
                if(isNaN(audTotal)) throw new Error("NaN");
                
                const twdTotal = Math.round(audTotal * rate);
                resultEl.innerText = twdTotal.toLocaleString();
            } catch (e) {
                resultEl.innerText = "Error";
            }
        }

        function handlePhotoSelect(input) {
            if (input.files && input.files[0]) {
                const label = $('#file-label');
                if(label) label.innerText = "è™•ç†ä¸­...";
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        
                        const MAX_WIDTH = 500;
                        let width = img.width;
                        let height = img.height;

                        if (width > MAX_WIDTH) {
                            height *= MAX_WIDTH / width;
                            width = MAX_WIDTH;
                        }

                        canvas.width = width;
                        canvas.height = height;
                        ctx.drawImage(img, 0, 0, width, height);
                        
                        tempPhotoBase64 = canvas.toDataURL('image/jpeg', 0.6); 
                        if(label) label.innerText = "ç…§ç‰‡å·²å°±ç·’";
                    }
                    img.src = e.target.result;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function addExpense() {
            const itemEl = $('#exp-item');
            const amountEl = $('#exp-amount');
            const labelEl = $('#file-label');
            
            if(!itemEl || !amountEl) return;

            const item = itemEl.value;
            const amount = parseFloat(amountEl.value);
            
            if (!item || isNaN(amount)) { alert("è«‹è¼¸å…¥å®Œæ•´è³‡è¨Š"); return; }

            let expenses = [];
            try {
                expenses = JSON.parse(localStorage.getItem('expenses')) || [];
                if(!Array.isArray(expenses)) expenses = [];
            } catch(e) { expenses = []; }

            expenses.unshift({
                id: Date.now(),
                item,
                amount,
                photo: tempPhotoBase64,
                date: new Date().toLocaleDateString()
            });

            localStorage.setItem('expenses', JSON.stringify(expenses));
            
            itemEl.value = '';
            amountEl.value = '';
            if(labelEl) labelEl.innerText = "æ‹ç…§/ä¸Šå‚³";
            tempPhotoBase64 = null;
            renderExpenseList();
        }

        function deleteExpense(id) {
            if(!confirm("ç¢ºå®šåˆªé™¤æ­¤ç­†è¨˜å¸³ï¼Ÿ")) return;
            let expenses = [];
            try {
                expenses = JSON.parse(localStorage.getItem('expenses')) || [];
            } catch(e) { expenses = []; }
            
            expenses = expenses.filter(e => e.id !== id);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            renderExpenseList();
        }

        function renderExpenseList() {
            const listEl = $('#expense-list');
            if(!listEl) return;

            let expenses = [];
            try {
                expenses = JSON.parse(localStorage.getItem('expenses')) || [];
            } catch(e) { expenses = []; }

            const rate = parseFloat(localStorage.getItem('aud_rate') || '21.5');
            
            if (expenses.length === 0) {
                listEl.innerHTML = '<div class="text-center text-stone-400 py-4 text-sm">å°šç„¡è¨˜å¸³è³‡æ–™</div>';
                return;
            }

            let html = '';
            let totalAud = 0;

            expenses.forEach(ex => {
                totalAud += (ex.amount || 0);
                html += `
                    <div class="card p-3 flex items-center gap-3">
                        <div class="w-16 h-16 bg-stone-100 rounded flex-shrink-0 overflow-hidden border border-stone-200">
                            ${ex.photo ? `<img src="${ex.photo}" class="w-full h-full object-cover cursor-pointer" onclick="showImage('${ex.photo}')">` : '<div class="w-full h-full flex items-center justify-center text-stone-300"><i class="fa-solid fa-image"></i></div>'}
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="font-bold text-stone-800 truncate">${ex.item}</h4>
                            <p class="text-xs text-stone-500">${ex.date}</p>
                        </div>
                        <div class="text-right">
                            <div class="font-mono font-bold text-eucalyptus">$${ex.amount}</div>
                            <div class="text-[10px] text-stone-400">â‰ˆNT$ ${Math.round(ex.amount * rate)}</div>
                        </div>
                        <button onclick="deleteExpense(${ex.id})" class="text-stone-300 hover:text-red-400 px-2 ml-1"><i class="fa-solid fa-trash"></i></button>
                    </div>
                `;
            });
            
            html = `
                <div class="flex justify-between items-center px-2 mb-2">
                    <span class="text-sm font-bold text-stone-600">ç¸½æ”¯å‡º</span>
                    <span class="text-lg font-bold text-clay">$${totalAud.toFixed(2)} <span class="text-xs text-stone-400 font-normal">AUD</span></span>
                </div>
            ` + html;

            listEl.innerHTML = html;
        }

        function showImage(src) {
            const w = window.open("");
            w.document.write(`<img src="${src}" style="max-width:100%">`);
        }

        // 5. LISTS
        function renderLists(container) {
            const defaultChecklist = ["è­·ç…§", "æ¾³å¹£ç¾é‡‘", "ä¿¡ç”¨å¡", "å€‹äººè—¥å“", "è½‰æ¥é ­ (æ¾³æ´²å…«å­—å‹)", "ç¶²å¡/æ¼«éŠ", "é˜²æ›¬ä¹³/å¤ªé™½çœ¼é¡ (æ¾³æ´²ç´«å¤–ç·šå¼·)", "è–„å¤–å¥— (æ—©æ™šæº«å·®)", "ç‰™åˆ·ç‰™è†", "ä¿é¤Šå“"];
            let savedChecklist;
            try {
                savedChecklist = JSON.parse(localStorage.getItem('checklist'));
            } catch(e) { savedChecklist = null; }

            if (!savedChecklist || !Array.isArray(savedChecklist)) {
                savedChecklist = defaultChecklist.map(item => ({ text: item, checked: false }));
                localStorage.setItem('checklist', JSON.stringify(savedChecklist));
            }

            const savedMemo = localStorage.getItem('memo') || '';

            let html = `
                <div class="space-y-6">
                    <div class="card p-5">
                        <h3 class="font-bold text-stone-700 mb-3 border-b pb-2">è¡Œå‰æª¢æŸ¥æ¸…å–®</h3>
                        <div class="space-y-2">
                            ${savedChecklist.map((item, i) => `
                                <label class="flex items-center gap-3 cursor-pointer select-none py-1">
                                    <input type="checkbox" onchange="toggleCheck(${i})" ${item.checked ? 'checked' : ''} class="w-5 h-5 rounded border-stone-300 text-eucalyptus focus:ring-eucalyptus accent-eucalyptus">
                                    <span class="${item.checked ? 'text-stone-400 line-through' : 'text-stone-700'} text-sm font-medium transition-all">${item.text}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>

                    <div class="card p-5">
                        <h3 class="font-bold text-stone-700 mb-3">å€‹äººå‚™å¿˜éŒ„</h3>
                        <textarea id="memo-area" class="w-full h-32 border border-stone-200 rounded p-3 text-sm focus:outline-none focus:border-eucalyptus bg-stone-50" placeholder="è¼¸å…¥ç­†è¨˜æˆ–ç¶²å€ (è‡ªå‹•ç”¢ç”ŸæŒ‰éˆ•)..." oninput="saveMemo(this.value)">${savedMemo}</textarea>
                        <div class="mt-2 text-xs text-stone-400">è¼¸å…¥ç¶²å€å¾Œï¼Œä¸‹æ–¹æœƒè‡ªå‹•ç”¢ç”Ÿé€£çµæŒ‰éˆ•</div>
                        <div id="memo-links" class="flex flex-wrap gap-2 mt-3">
                             ${extractLinks(savedMemo)}
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = html;
        }

        function toggleCheck(index) {
            let list = [];
            try {
                list = JSON.parse(localStorage.getItem('checklist')) || [];
            } catch(e) { return; }

            if(list[index]) {
                list[index].checked = !list[index].checked;
                localStorage.setItem('checklist', JSON.stringify(list));
                switchTab('lists'); 
            }
        }

        function saveMemo(val) {
            localStorage.setItem('memo', val);
            const linksContainer = $('#memo-links');
            if(linksContainer) linksContainer.innerHTML = extractLinks(val);
        }

        function extractLinks(text) {
            if(!text) return '';
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            const matches = text.match(urlRegex);
            if (!matches) return '';
            return matches.map(url => `
                <a href="${url}" target="_blank" class="bg-eucalyptus-light/20 text-eucalyptus-dark px-3 py-1.5 rounded-full text-xs font-medium truncate max-w-full inline-flex items-center hover:bg-eucalyptus-light/40 transition">
                    <i class="fa-solid fa-link mr-1.5"></i>é€£çµ
                </a>
            `).join('');
        }

        // 6. INFO (UPDATED)
        function renderInfo(container) {
            container.innerHTML = `
                <div class="space-y-4">
                     <div class="card p-5 border-l-4 border-red-500">
                        <h3 class="font-bold text-red-600 mb-3"><i class="fa-solid fa-triangle-exclamation mr-2"></i>ç·Šæ€¥è¯çµ¡</h3>
                        <div class="grid grid-cols-1 gap-3">
                            <div class="bg-red-50 p-3 rounded flex justify-between items-center">
                                <span class="text-sm text-stone-600">æ¾³æ´²å ±æ¡ˆ/æ•‘è­·</span>
                                <a href="tel:000" class="text-xl font-bold text-red-600">000</a>
                            </div>

                            <div class="bg-stone-50 p-3 rounded">
                                <div class="text-xs text-stone-500 mb-1">æ—…å¤–åœ‹äººæ€¥é›£æ•‘åŠ©å…¨çƒå…ä»˜è²»å°ˆç·š</div>
                                <a href="tel:001180008850885" class="text-lg font-bold text-eucalyptus-dark block">0011-800-0885-0885</a>
                            </div>

                            <div class="grid grid-cols-2 gap-3 mt-1">
                                <a href="tel:+61477586999" class="bg-stone-50 p-3 rounded block hover:bg-stone-100 transition">
                                    <div class="text-xs text-stone-500">é§é›ªæ¢¨è¾¦äº‹è™•</div>
                                    <div class="font-bold text-stone-800 text-sm mt-1 break-words">+61-477-586-999</div>
                                </a>
                                <a href="tel:+61413880934" class="bg-stone-50 p-3 rounded block hover:bg-stone-100 transition">
                                    <div class="text-xs text-stone-500">é§å¢¨çˆ¾æœ¬è¾¦äº‹è™•</div>
                                    <div class="font-bold text-stone-800 text-sm mt-1 break-words">+61-413-880-934</div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="card p-5">
                        <h3 class="font-bold text-eucalyptus mb-3">å¯¦ç”¨å·¥å…·</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <a href="http://www.bom.gov.au/" target="_blank" class="flex items-center justify-center gap-2 bg-stone-100 hover:bg-stone-200 py-3 rounded text-stone-700 font-medium transition text-sm">
                                <i class="fa-solid fa-cloud-sun"></i> æ¾³æ´²æ°£è±¡å±€
                            </a>
                             <a href="https://transportnsw.info/" target="_blank" class="flex items-center justify-center gap-2 bg-stone-100 hover:bg-stone-200 py-3 rounded text-stone-700 font-medium transition text-sm">
                                <i class="fa-solid fa-bus"></i> é›ªæ¢¨äº¤é€š
                            </a>
                        </div>
                    </div>

                    <div class="card p-5">
                        <h3 class="font-bold text-stone-700 mb-2">æ—…éŠå°å®åš€</h3>
                        <ul class="list-disc list-inside text-sm text-stone-600 space-y-2 leading-relaxed">
                            <li><span class="font-bold text-clay">é å·¦è¡Œé§›ï¼š</span>è‡ªé§•å‹™å¿…æ³¨æ„ï¼Œé›¨åˆ·èˆ‡æ–¹å‘ç‡ˆä½ç½®èˆ‡å°ç£ç›¸åã€‚</li>
                            <li><span class="font-bold text-clay">åš´æ ¼æª¢ç–«ï¼š</span>è‚‰é¡ã€ç¨®å­ã€è”¬æœçµ•å°ç¦æ­¢å…¥å¢ƒï¼Œæœªèª å¯¦ç”³å ±ç½°æ¬¾æ¥µé‡ã€‚</li>
                            <li><span class="font-bold">é£²æ°´ï¼š</span>æ¾³æ´²è‡ªä¾†æ°´å¯ç”Ÿé£²ï¼ˆTap Waterï¼‰ã€‚</li>
                            <li><span class="font-bold">å°è²»ï¼š</span>æ¾³æ´²ç„¡å¼·åˆ¶å°è²»æ–‡åŒ–ï¼Œä½†åœ¨é«˜ç´šé¤å»³å¯è¦–æœå‹™çµ¦äºˆ 5-10%ã€‚</li>
                            <li><span class="font-bold">ç´«å¤–ç·šï¼š</span>æ¾³æ´²ä¸Šæ–¹æœ‰è‡­æ°§å±¤ç ´æ´ï¼Œç´«å¤–ç·šæ¥µå¼·ï¼Œå‹™å¿…æ¯æ—¥å¡—æŠ¹é˜²æ›¬ã€‚</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        // ==================== ç©©å®šçš„ Loading æ§åˆ¶ ====================
        function showApp() {
            const loading = document.getElementById('loading');
            const content = document.getElementById('app-content');
            if (loading && content) {
                loading.classList.add('hidden');
                content.classList.remove('hidden');
                document.body.classList.remove('flex', 'items-center', 'justify-center');
                document.body.style.backgroundColor = '#f7f5ef';
            }
        }

        document.addEventListener('DOMContentLoaded', () => { setTimeout(showApp, 300); });
        setTimeout(showApp, 6000);  // æœ€å¤šç­‰ 6 ç§’ä¸€å®šé¡¯ç¤º
        window.addEventListener('load', () => { setTimeout(showApp, 500); });

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('plan');
        });
    </script>

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/travel/sw.js').catch(() => {});
            });
        }
    </script>
</body>
</html>


